<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Fast Search</title>

    <link rel="icon" sizes="16x16" type="image/x-icon" href="/static/favicon-x16.png" />
    <link rel="icon" sizes="32x32" type="image/x-icon" href="/static/favicon-x32.png" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
      integrity="sha256-9mbkOfVho3ZPXfM7W8sV2SndrGDuh7wuyLjtsWeTI1Q="
      crossorigin="anonymous"
    />

    <script
      async
      data-main="/static/js/init.js"
      src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"
      integrity="sha256-1fEPhSsRKlFKGfK3eO710tEweHh1fwokU5wFGDHO+vg="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="ui blue inverted basic segment">
      <div class="ui inverted secondary menu">
        <div class="item"><img class="ui image" src="/static/spider.png" /></div>

        <div class="item" style="width: 800px;">
          <div class="ui fluid action input">
            <input
              type="text"
              placeholder="Search..."
              data-bind="value: query, enterkey: sendRequest, valueUpdate: 'afterkeydown'"
            />

            <button type="submit" class="ui button" data-bind="click: sendRequest, css: { loading: isLoading }">
              <i class="search icon"></i> Search
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="ui basic segment" data-bind="visible: isError">
      <div class="ui error message" style="width: 800px; margin: 0px 60px;">
        <div class="header">Error occurred</div>
        <p data-bind="text: errorMessage"></p>
      </div>
    </div>

    <div class="ui basic segment" data-bind="visible: isResultsVisible">
      <table class="ui compact striped table" style="margin: 0px 60px;">
        <thead>
          <tr data-bind="foreach: fields">
            <th data-bind="text: display"></th>
          </tr>
        </thead>
        <tbody data-bind="foreach: $root.results">
          <tr data-bind="foreach: $root.fields">
            <td data-bind="html: $root.getValue(name, $parent)"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
</html>
